
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>dsco.options &#8212; dsco version 0.1.9</title>
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dsco.commands" href="dsco.commands.html" />
    <link rel="prev" title="dsco.helpers" href="dsco.helpers.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dsco.commands.html" title="dsco.commands"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dsco.helpers.html" title="dsco.helpers"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">dsco version 0.1.9</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../modules.html" accesskey="U">Modules</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../index.html" class="text-logo">dsco</a>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">DSCO (Draft documentation)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Container setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dsco.application.html">dsco.application</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.helpers.html">dsco.helpers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">dsco.options</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.html">dsco.commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.build.html">dsco.commands.build</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.code.html">dsco.commands.code</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.documentation.html">dsco.commands.documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.go.html">dsco.commands.go</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.init.html">dsco.commands.init</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.ls.html">dsco.commands.ls</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.reports.html">dsco.commands.reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.restart.html">dsco.commands.restart</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.rm.html">dsco.commands.rm</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.rmi.html">dsco.commands.rmi</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.shell.html">dsco.commands.shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.up.html">dsco.commands.up</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsco.commands.update_port.html">dsco.commands.update_port</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/modules2.html">dsco</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="../modules.html">Modules</a></li>
              
              <li>dsco.options</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="module-dsco.options">
<span id="dsco-options"></span><h1>dsco.options<a class="headerlink" href="#module-dsco.options" title="Permalink to this headline">¶</a></h1>
<p>Add commands to the argument parser</p>
<p>The argument parser is what translates the text entered on the command line to
specific actions. For example, if we enter ‘dsco init’ we want our program to
create a new project folder populated from our project template.</p>
<p>The form this takes is ‘dsco [subparser …]’. Where subparser consists of a
command plus options. For instance, ‘dsco up –dev’ consists of the command ‘up’
and the option ‘–dev’. This would be processed by the subparser ‘up’ and would
launch the command required to bring up a dev container.</p>
<p>This module adds the subparsers in the ‘commands’ directory to our argument parser.
The name of the ‘commands’ directory is specified as ‘cmd_dir’.</p>
<p>Each module in cmd_dir is expected to define the following:</p>
<blockquote>
<div><p>cmd_name(str): The name of the sub-command</p>
<dl>
<dt>add_subparser(subparsers: argparse._SubParsersAction):</dt><dd><p>This should take the subparsers object created in this file and add a
subparser to it.
‘subparsers’ is mutable so it does not need to return anything.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>subparsers (argparse._SubParsersAction): The subparser object to which</dt><dd><p>all sub-commands will be assigned.</p>
</dd>
</dl>
</dd>
</dl>
<p>Returns: None</p>
</dd>
<dt>method: add_dispatch(dispatcher: dict):</dt><dd><p>The dispatcher dictionary maps the command given at the command line
to a function to be executed. For instance when we run ‘dsco up –dev’,
the dispatcher would contain a mapping:</p>
<blockquote>
<div><p>up –&gt; ‘function that runs docker-compose to launch our dev container.’</p>
</div></blockquote>
<p>More specifically, add_dispatch takes the dispatcher dict created in this
file and adds an entry corrsponding to the command name.
The entry should be a function that takes the ‘args’ and ‘conf’ objects
created in application.py and executes the desired action.</p>
<dl>
<dt>Args:</dt><dd><dl>
<dt>dispatcher (dict): Dictionary containing the mappings cmd –&gt; run_cmd.</dt><dd><p>The dictionary is mutated to add a new mapping. For consistency,
you should name the function run_cmd, but this is not required.
We will define the requirements on the mapping next:</p>
<p>cmd (string): This is the name of the subparser</p>
<p>run_cmd(args, conf): Function that executes the desired action.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>args (argParse.Namespace): This contains the command line</dt><dd><p>arguments as parsed by the appropriate subparser.</p>
</dd>
<dt>conf (dict): This dictionary contains project specific</dt><dd><p>settings such as the project root directory, settings
from the pyproject.toml file (if it exists) etc.</p>
</dd>
</dl>
</dd>
</dl>
<p>Returns: None</p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>Example: See ‘commands’.</p>
</div></blockquote>
<p>With this structure in place, this file first creates the objects:</p>
<blockquote>
<div><p>parser: argparse.ArgumentParser: Used to interpret command line options
subparsers: argparse._SubParsersAction: Contains definitions of sub commands.
dispatcher: dictionary used to run command based on command line inputs.</p>
</div></blockquote>
<p>Then for each module found in cmd_dir (files of the form <a href="#id1"><span class="problematic" id="id2">*</span></a>.py, excluding
files that begin with “_”) we add all the subparsers and dispatchers with:</p>
<blockquote>
<div><p>module.add_subparser(subparsers)
module.add_dispatch(dispatcher)</p>
</div></blockquote>
<p>At run time, the application imports parser to interpret the command line options
and dispatcher to run the appropriate command.</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../autoapi/dsco.html#dsco.options.is_not_hidden" title="dsco.options.is_not_hidden"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_not_hidden</span></code></a>(x)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="dsco.helpers.html" title="previous chapter (use the left arrow)">dsco.helpers</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="dsco.commands.html" title="next chapter (use the right arrow)">dsco.commands</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dsco.commands.html" title="dsco.commands"
             >next</a> |</li>
        <li class="right" >
          <a href="dsco.helpers.html" title="dsco.helpers"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">dsco version 0.1.9</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../modules.html" >Modules</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2020, Teradata. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>